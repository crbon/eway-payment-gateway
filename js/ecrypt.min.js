// eWAY Payment Gateway
// https://shop.webaware.com.au/downloads/eway-payment-gateway/

!function(e){var a=e(eway_ecrypt_vars.form);function r(r,t){var n=a.find(r);if(n.length){var c=n.val().replace(/[\s-]/g,"");if(c.length){var o=eCrypt.encryptValue(c,eway_ecrypt_vars.key);e("<input type='hidden'>").attr("name",t).val(o).appendTo(a),n.val("")}}}function t(){var e=eway_ecrypt_vars.fields;for(var a in e)r(a,e[a]);return!0}function n(e){return a.get(0).elements[e].value}switch(eway_ecrypt_vars.mode){case"woocommerce":a.on("checkout_place_order_eway_payments",t);break;case"wp-e-commerce":a.on("submit",function(){"wpsc_merchant_eway"===n("custom_gateway")&&t()});break;case"events-manager":a.on("submit",function(){"eway"===n("gateway")&&t()});break;case"awpcp":a.on("submit",t)}}(jQuery);